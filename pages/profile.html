<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tienda de productos comseticos">
    <meta name="keywords" content="natura, tienda, avon, arbell, belleza, cosmética">
    <meta name="author" content="Lorena Fusillo">
    <title>Mi Perfil - Lore Ventas</title>
    <!-- Enlace a Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>
    <!-- Barra de navegacion -->
    <header>
        <div class="top-bar">
            <div class="logo">
                <img src="../assets/img/Logo.png" width="150" alt="Logo Lore">
                <h1>Lorena Fusillo <br>Cosmetica</h1>
            </div>
            <div class="search-container">
                <form class="search-form" role="search">
                    <input type="search" name="buscar" placeholder="Buscar productos..." aria-label="Buscar productos">
                    <button type="submit" aria-label="Buscar">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </form>
            </div>
            <div class="user-container">
                <div class="user-icon">
                    <i class="fa-solid fa-user"></i>
                </div>
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="../index.html">Promociones</a></li>
                <li><a href="./natura.html">Natura</a></li>
                <li><a href="./avon.html">Avon</a></li>
                <li><a href="./arbell.html">Arbell</a></li>
                <li><a href="./Contacto.html">Contacto</a></li>
            </ul>
        </nav>
        <i class="fa-solid fa-bars hamburguesa"></i>
    </header>

    <!-- Perfil del usuario -->
    <main class="contacto-container">
        <h2>Mi Perfil</h2>
        <p>Información de tu cuenta</p>

        <div id="profile-content">
            <!-- View Mode -->
            <div id="view-mode">
                <div class="form-group">
                    <label><i class="fa-solid fa-user"></i> Nombre</label>
                    <p id="view-name" class="profile-info">Cargando...</p>
                </div>

                <div class="form-group">
                    <label><i class="fa-solid fa-envelope"></i> Correo Electrónico</label>
                    <p id="view-email" class="profile-info">Cargando...</p>
                </div>

                <div class="form-group">
                    <label><i class="fa-solid fa-phone"></i> Teléfono</label>
                    <p id="view-phone" class="profile-info">No especificado</p>
                </div>

                <div class="form-group">
                    <label><i class="fa-solid fa-location-dot"></i> Dirección</label>
                    <p id="view-address" class="profile-info">No especificada</p>
                </div>

                <div class="form-group">
                    <label><i class="fa-solid fa-calendar"></i> Miembro desde</label>
                    <p id="view-created" class="profile-info">Cargando...</p>
                </div>

                <div class="form-group">
                    <label><i class="fa-solid fa-key"></i> ID de Usuario</label>
                    <p id="view-id" class="profile-info">Cargando...</p>
                </div>

                <!-- NUEVO: Mostrar rol del usuario -->
                <div class="form-group">
                    <label><i class="fa-solid fa-shield"></i> Rol</label>
                    <p id="view-role" class="profile-info">Cargando...</p>
                </div>

                <button id="edit-btn" class="btn-enviar">
                    <i class="fa-solid fa-pen"></i> Editar Perfil
                </button>

                <!-- NUEVO: Sección de Seguridad -->
                <div style="margin-top: 30px; padding-top: 20px; border-top: 2px solid #ddd;">
                    <h3 style="color: #333; margin-bottom: 15px;">
                        <i class="fa-solid fa-shield-halved"></i> Seguridad de la Cuenta
                    </h3>

                    <button type="button" id="toggle-password-change" class="btn-enviar"
                        style="background-color: #6c757d;">
                        <i class="fa-solid fa-lock"></i> Cambiar Contraseña
                    </button>

                    <!-- Formulario de Cambio de Contraseña (inicialmente oculto) -->
                    <div id="password-change-section"
                        style="display: none; margin-top: 20px; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
                        <form id="password-change-form">
                            <div class="form-group">
                                <label for="current-password">
                                    <i class="fa-solid fa-key"></i> Contraseña Actual
                                </label>
                                <input type="password" id="current-password" placeholder="Tu contraseña actual"
                                    required>
                            </div>

                            <div class="form-group">
                                <label for="new-password">
                                    <i class="fa-solid fa-lock"></i> Nueva Contraseña
                                </label>
                                <input type="password" id="new-password"
                                    placeholder="Nueva contraseña (mínimo 6 caracteres)" required minlength="6">
                                <small style="color: #888;">La contraseña debe tener al menos 6 caracteres</small>
                            </div>

                            <div class="form-group">
                                <label for="confirm-password">
                                    <i class="fa-solid fa-lock"></i> Confirmar Nueva Contraseña
                                </label>
                                <input type="password" id="confirm-password" placeholder="Confirma tu nueva contraseña"
                                    required minlength="6">
                            </div>

                            <div style="display: flex; gap: 10px; margin-top: 15px;">
                                <button type="submit" class="btn-enviar">
                                    <i class="fa-solid fa-save"></i> Guardar Nueva Contraseña
                                </button>
                                <button type="button" id="cancel-password-change" class="btn-cancelar">
                                    <i class="fa-solid fa-times"></i> Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Edit Mode -->
            <div id="edit-mode" style="display: none;">
                <form id="profile-form">
                    <div class="form-group">
                        <label for="edit-name"><i class="fa-solid fa-user"></i> Nombre</label>
                        <input type="text" id="edit-name" placeholder="Tu nombre completo">
                    </div>

                    <div class="form-group">
                        <label for="edit-email"><i class="fa-solid fa-envelope"></i> Correo Electrónico</label>
                        <input type="email" id="edit-email" disabled class="disabled-input">
                        <small style="color: #888;">El correo no se puede modificar</small>
                    </div>

                    <div class="form-group">
                        <label for="edit-phone"><i class="fa-solid fa-phone"></i> Teléfono</label>
                        <input type="tel" id="edit-phone" placeholder="Ej: +54 9 11 1234-5678">
                    </div>

                    <h3 style="margin-top: 20px; margin-bottom: 10px; color: #333;">
                        <i class="fa-solid fa-location-dot"></i> Dirección
                    </h3>

                    <div class="form-group">
                        <label for="edit-street">Calle</label>
                        <input type="text" id="edit-street" placeholder="Nombre de la calle">
                    </div>

                    <div class="form-group">
                        <label for="edit-number">Número</label>
                        <input type="text" id="edit-number" placeholder="Número de casa/depto">
                    </div>

                    <div class="form-group">
                        <label for="edit-city">Ciudad</label>
                        <input type="text" id="edit-city" placeholder="Ciudad">
                    </div>

                    <div class="form-group">
                        <label for="edit-postal">Código Postal</label>
                        <input type="text" id="edit-postal" placeholder="Código postal">
                    </div>

                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button type="submit" class="btn-enviar">
                            <i class="fa-solid fa-save"></i> Guardar Cambios
                        </button>
                        <button type="button" id="cancel-btn" class="btn-cancelar">
                            <i class="fa-solid fa-times"></i> Cancelar
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <button onclick="window.history.back()" class="btn-enviar" style="margin-top: 20px;">
            <i class="fa-solid fa-arrow-left"></i> Volver
        </button>
    </main>

    <footer>
        <!-- Contacto -->
        <div class="contacto">
            <div class="payment">
                <p>Métodos de pago:</p>
                <div class="icons">
                    <img src="../assets/img/metodos.png" width="100" alt="Métodos de pago">
                </div>
            </div>
            <h2>
                <p>Contacto</p>
                <a href="./Contacto.html" target="_blank" rel="noopener noreferrer">
                    <img src="../assets/img/contacto.png" class="contact-icon" alt="Contacto">
                </a>
            </h2>
        </div>
        <!-- Redes Sociales -->
        <div class="redes">
            <a href="https://www.instagram.com/lore.fusillo.makeup" target="_blank" rel="noopener noreferrer">
                <i class="fa-brands fa-instagram"></i>Instagram</a>
            <a href="https://www.facebook.com/Natura.Argentina/?brand_redir=382381445421" target="_blank"
                rel="noopener noreferrer">
                <i class="fa-brands fa-facebook"></i> facebook</a>
            <a href="https://x.com/NaturaArgentina" target="_blank" rel="noopener noreferrer">
                <i class="fa-brands fa-twitter"></i>X</a>
        </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../assets/js/menu.js"></script>
    <script src="../assets/js/theme-loader.js" type="module"></script>
    <script src="../assets/js/userMenu.js" type="module"></script>
    <script src="../assets/js/profile.js" type="module"></script>
    <script src="../assets/js/passwordChange.js"></script>
</body>

</html>